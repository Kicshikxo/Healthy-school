generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model User {
    id         Int    @id(map: "user_pkey") @default(autoincrement()) @map("user_id")
    login      String @map("login") @db.VarChar(64)
    password   String @map("password") @db.Char(60)
    secondName String @map("second_name") @db.VarChar(64)
    firstName  String @map("first_name") @db.VarChar(64)
    middleName String @map("middle_name") @db.VarChar(64)
    role       Role

    @@map("users")
}

model Student {
    id         String @id(map: "children_pkey") @map("student_id") @db.Char(8)
    snils      String @map("snils") @db.Char(14)
    secondName String @map("second_name") @db.VarChar(64)
    firstName  String @map("first_name") @db.VarChar(64)
    middleName String @map("middle_name") @db.VarChar(64)
    age        Int    @map("age")
    class      String @map("class") @db.VarChar(64)

    @@map("students")
}

enum Role {
    OPERATOR // Оператор системы
    CLASS_TEACHER // Классный руководитель
    HEALTH_WORKER // Медицинский работник
    SOCIAL_PEDAGOGUE // Социальный педагог
    PSYCHOLOGIST // Психолог
    PHYSICAL_EDUCATION_TEACHER // Учитель физкультуры
}
